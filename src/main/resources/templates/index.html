<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>PreProject SpringBoot</title>
</head>

<body>
<form method="post" action="/admin">
    <label for="name">Name</label>
    <input name="name" type="text" id="name">
    <br/>

    <label for="lastname">LastName</label>
    <input name="lastname" type="text" id="lastname">
    <br/>

    <label for="age">Age</label>
    <input name="age" type="number" id="age">
    <br/>

    <label for="username">UserName</label>
    <input name="username" type="text" id="username">
    <br/>

    <label for="password">Password</label>
    <input name="password" type="text" id="password">
    <br/>

    <tr>
        <td><label>User role</label><input type="checkbox" name="userRole"></td>
        <td><label>Admin role</label><input type="checkbox" name="adminRole"></td>
    </tr>
    <br/>

    <input type="submit" value="Add User">
</form>
<br/>

<table border="1">
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Second name</th>
        <th>Age</th>
        <th>Username</th>
        <th>Password</th>
        <th>Role</th>
    </tr>
    <th:block th:each="user : ${users}">
        <tr>
            <td>
                <a th:href="@{/admin/{id}(id=${user.getId()})}"th:text="${user.getId()}">user </a>
            </td>
            <td th:text="${user.getName()}"></td>
            <td th:text="${user.getLastname()}"></td>
            <td th:text="${user.getAge()}"></td>
            <td th:text="${user.getUsername()}"></td>
            <td th:text="${user.getPassword()}"></td>
            <td>
                <table>
                    <tbody>
                    <tr th:each="role : ${user.roles}">
                        <td th:text="${role.getAuthority()}"></td>
                    </tr>
                    </tbody>
                </table>
            </td>

        </tr>
    </th:block>
</table>
<br/>

<form th:action="@{/logout}" method="post">
    <input type="submit" value="Logout"/>
</form>

</body>
</html>